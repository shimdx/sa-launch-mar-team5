import{ObjectUtils as t}from"primevue/utils";import e from"primevue/paginator";import{resolveComponent as a,openBlock as r,createBlock as s,renderSlot as o,createCommentVNode as i,createSlots as l,withCtx as n,createVNode as p,Fragment as d,renderList as g}from"vue";var u={name:"DataView",emits:["update:first","update:rows","page"],props:{value:{type:Array,default:null},layout:{type:String,default:"list"},rows:{type:Number,default:0},first:{type:Number,default:0},totalRecords:{type:Number,default:0},paginator:{type:Boolean,default:!1},paginatorPosition:{type:String,default:"bottom"},alwaysShowPaginator:{type:Boolean,default:!0},paginatorTemplate:{type:String,default:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown"},pageLinkSize:{type:Number,default:5},rowsPerPageOptions:{type:Array,default:null},currentPageReportTemplate:{type:String,default:"({currentPage} of {totalPages})"},sortField:{type:[String,Function],default:null},sortOrder:{type:Number,default:null},lazy:{type:Boolean,default:!1},dataKey:{type:String,default:null}},data(){return{d_first:this.first,d_rows:this.rows}},watch:{first(t){this.d_first=t},rows(t){this.d_rows=t},sortField(){this.resetPage()},sortOrder(){this.resetPage()}},methods:{getKey(e,a){return this.dataKey?t.resolveFieldData(e,this.dataKey):a},onPage(t){this.d_first=t.first,this.d_rows=t.rows,this.$emit("update:first",this.d_first),this.$emit("update:rows",this.d_rows),this.$emit("page",t)},sort(){if(this.value){const e=[...this.value];return e.sort(((e,a)=>{let r=t.resolveFieldData(e,this.sortField),s=t.resolveFieldData(a,this.sortField),o=null;return o=null==r&&null!=s?-1:null!=r&&null==s?1:null==r&&null==s?0:"string"==typeof r&&"string"==typeof s?r.localeCompare(s,void 0,{numeric:!0}):r<s?-1:r>s?1:0,this.sortOrder*o})),e}return null},resetPage(){this.d_first=0,this.$emit("update:first",this.d_first)}},computed:{containerClass(){return["p-dataview p-component",{"p-dataview-list":"list"===this.layout,"p-dataview-grid":"grid"===this.layout}]},getTotalRecords(){return this.totalRecords?this.totalRecords:this.value?this.value.length:0},empty(){return!this.value||0===this.value.length},paginatorTop(){return this.paginator&&("bottom"!==this.paginatorPosition||"both"===this.paginatorPosition)},paginatorBottom(){return this.paginator&&("top"!==this.paginatorPosition||"both"===this.paginatorPosition)},items(){if(this.value&&this.value.length){let t=this.value;if(t&&t.length&&this.sortField&&(t=this.sort()),this.paginator){const e=this.lazy?0:this.d_first;return t.slice(e,e+this.d_rows)}return t}return null}},components:{DVPaginator:e}};const h={key:0,class:"p-dataview-header"},m={class:"p-dataview-content"},f={class:"p-grid p-nogutter grid grid-nogutter"},y={key:0,class:"p-col col"},w={class:"p-dataview-emptymessage"},P={key:3,class:"p-dataview-footer"};u.render=function(t,e,u,c,v,$){const k=a("DVPaginator");return r(),s("div",{class:$.containerClass},[t.$slots.header?(r(),s("div",h,[o(t.$slots,"header")])):i("",!0),$.paginatorTop?(r(),s(k,{key:1,rows:v.d_rows,first:v.d_first,totalRecords:$.getTotalRecords,pageLinkSize:u.pageLinkSize,template:u.paginatorTemplate,rowsPerPageOptions:u.rowsPerPageOptions,currentPageReportTemplate:u.currentPageReportTemplate,class:{"p-paginator-top":$.paginatorTop},alwaysShow:u.alwaysShowPaginator,onPage:e[1]||(e[1]=t=>$.onPage(t))},l({_:2},[t.$slots.paginatorstart?{name:"start",fn:n((()=>[o(t.$slots,"paginatorstart")]))}:void 0,t.$slots.paginatorend?{name:"end",fn:n((()=>[o(t.$slots,"paginatorend")]))}:void 0]),1032,["rows","first","totalRecords","pageLinkSize","template","rowsPerPageOptions","currentPageReportTemplate","class","alwaysShow"])):i("",!0),p("div",m,[p("div",f,[(r(!0),s(d,null,g($.items,((e,a)=>(r(),s(d,{key:$.getKey(e,a)},[t.$slots.list&&"list"===u.layout?o(t.$slots,"list",{key:0,data:e,index:a}):i("",!0),t.$slots.grid&&"grid"===u.layout?o(t.$slots,"grid",{key:1,data:e,index:a}):i("",!0)],64)))),128)),$.empty?(r(),s("div",y,[p("div",w,[o(t.$slots,"empty")])])):i("",!0)])]),$.paginatorBottom?(r(),s(k,{key:2,rows:v.d_rows,first:v.d_first,totalRecords:$.getTotalRecords,pageLinkSize:u.pageLinkSize,template:u.paginatorTemplate,rowsPerPageOptions:u.rowsPerPageOptions,currentPageReportTemplate:u.currentPageReportTemplate,class:{"p-paginator-bottom":$.paginatorBottom},alwaysShow:u.alwaysShowPaginator,onPage:e[2]||(e[2]=t=>$.onPage(t))},l({_:2},[t.$slots.paginatorstart?{name:"start",fn:n((()=>[o(t.$slots,"paginatorstart")]))}:void 0,t.$slots.paginatorend?{name:"end",fn:n((()=>[o(t.$slots,"paginatorend")]))}:void 0]),1032,["rows","first","totalRecords","pageLinkSize","template","rowsPerPageOptions","currentPageReportTemplate","class","alwaysShow"])):i("",!0),t.$slots.footer?(r(),s("div",P,[o(t.$slots,"footer")])):i("",!0)],2)};export default u;
